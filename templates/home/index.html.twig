{% extends 'base.html.twig' %}

{% block title %}Accueil - Plateforme DevOps{% endblock %}

{% block body %}
<!-- Section Hero -->
<section class="hero-section">
    <div class="container">
        <h1 style="font-size: 3rem; margin-bottom: 1rem;">üöÄ Plateforme DevOps</h1>
        <p style="font-size: 1.2rem; margin-bottom: 2rem; opacity: 0.9;">
            Pipeline CI/CD Symfony avec d√©ploiement automatis√©
        </p>
        <div style="margin-bottom: 2rem;">
            <span class="badge badge-success" style="margin: 0.5rem;">‚úÖ V2.1.3 D√©ploy√©</span>
            <span class="badge badge-info" style="margin: 0.5rem;">üåê Production</span>
            <span class="badge badge-warning" style="margin: 0.5rem;">‚ö° Performance+</span>
        </div>
        <div>
            <a href="#features" class="btn btn-primary">D√©couvrir les fonctionnalit√©s</a>
            <a href="#monitoring" class="btn btn-secondary">Voir le monitoring</a>
        </div>
    </div>
</section>

<div class="main-content">
    <!-- Section Statistiques -->
    <section class="section">
        <div class="container">
            <h2 style="text-align: center; margin-bottom: 3rem; color: #333;">üìä Statistiques en temps r√©el</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">127</div>
                    <div>D√©ploiements r√©ussis</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">99.8%</div>
                    <div>Taux de disponibilit√©</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">2.3s</div>
                    <div>Temps de d√©ploiement</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">0</div>
                    <div>Erreurs critiques</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">15</div>
                    <div>Tests automatis√©s</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">42</div>
                    <div>Commits cette semaine</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section Fonctionnalit√©s -->
    <section id="features" class="section">
        <div class="container">
            <h2 style="text-align: center; margin-bottom: 3rem;">‚ö° Fonctionnalit√©s de la plateforme</h2>
            <div class="grid">
                <div class="card feature-card">
                    <div class="feature-icon">üîÑ</div>
                    <h3>CI/CD Automatis√©</h3>
                    <p>Pipeline compl√®tement automatis√© avec tests, build et d√©ploiement automatique sur plusieurs
                        environnements.</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 100%;"></div>
                    </div>
                    <small>Pipeline fonctionnel √† 100%</small>
                </div>

                <div class="card feature-card">
                    <div class="feature-icon">üõ°Ô∏è</div>
                    <h3>S√©curit√© Avanc√©e</h3>
                    <p>Analyse de s√©curit√© automatique, gestion des secrets, et surveillance des vuln√©rabilit√©s en
                        continu.</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 95%;"></div>
                    </div>
                    <small>S√©curit√© optimis√©e √† 95%</small>
                </div>

                <div class="card feature-card">
                    <div class="feature-icon">üìà</div>
                    <h3>Monitoring 24/7</h3>
                    <p>Surveillance continue de la performance, alertes en temps r√©el et tableaux de bord d√©taill√©s.</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 98%;"></div>
                    </div>
                    <small>Monitoring actif √† 98%</small>
                </div>

                <div class="card feature-card">
                    <div class="feature-icon">üöÄ</div>
                    <h3>D√©ploiement Rapide</h3>
                    <p>D√©ploiements zero-downtime avec rollback automatique en cas de probl√®me d√©tect√©.</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 92%;"></div>
                    </div>
                    <small>Efficacit√© √† 92%</small>
                </div>

                <div class="card feature-card">
                    <div class="feature-icon">üß™</div>
                    <h3>Tests Automatis√©s</h3>
                    <p>Suite compl√®te de tests unitaires, d'int√©gration et end-to-end avec couverture de code.</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 87%;"></div>
                    </div>
                    <small>Couverture de code : 87%</small>
                </div>

                <div class="card feature-card">
                    <div class="feature-icon">üì±</div>
                    <h3>API RESTful</h3>
                    <p>API moderne avec documentation Swagger, versioning et authentification JWT.</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 90%;"></div>
                    </div>
                    <small>Documentation compl√®te √† 90%</small>
                </div>
            </div>
        </div>
    </section>

    <!-- Section Monitoring -->
    <section id="monitoring" class="section">
        <div class="container">
            <h2 style="text-align: center; margin-bottom: 3rem;">üñ•Ô∏è Dashboard de monitoring</h2>

            <div class="grid">
                <div class="card">
                    <div class="card-header">üìä M√©triques Serveur</div>
                    <div class="card-body">
                        <div style="margin-bottom: 1rem;">
                            <strong>CPU Usage:</strong> 23%
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 23%; background: #28a745;"></div>
                            </div>
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <strong>Memory Usage:</strong> 67%
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 67%; background: #ffc107;"></div>
                            </div>
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <strong>Disk Usage:</strong> 45%
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 45%; background: #17a2b8;"></div>
                            </div>
                        </div>
                        <div>
                            <strong>Network I/O:</strong> 12%
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 12%; background: #28a745;"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">üåê Trafic Web</div>
                    <div class="card-body">
                        <div style="margin-bottom: 1rem;">
                            <strong>Visiteurs actifs:</strong> 1,247
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <strong>Pages vues/minute:</strong> 856
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <strong>Temps de r√©ponse moyen:</strong> 142ms
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <strong>Taux d'erreur:</strong> 0.02%
                        </div>
                        <div>
                            <strong>Bande passante:</strong> 2.3 MB/s
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">üíæ Base de Donn√©es</div>
                    <div class="card-body">
                        <div style="margin-bottom: 1rem;">
                            <strong>Connexions actives:</strong> 45/100
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 45%; background: #28a745;"></div>
                            </div>
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <strong>Requ√™tes/seconde:</strong> 234
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <strong>Taille de la DB:</strong> 2.8 GB
                        </div>
                        <div>
                            <strong>Derni√®re sauvegarde:</strong> Il y a 2h
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section Timeline des d√©ploiements -->
    <section class="section">
        <div class="container">
            <h2 style="text-align: center; margin-bottom: 3rem;">üìÖ Historique des d√©ploiements</h2>

            <div class="timeline">
                <div class="timeline-item">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                        <strong>v2.1.3 - Optimisations de performance</strong>
                        <span class="badge badge-success">R√©ussi</span>
                    </div>
                    <p style="color: #666; margin-bottom: 0.5rem;">
                        ‚Ä¢ Am√©lioration du cache Redis<br>
                        ‚Ä¢ Optimisation des requ√™tes SQL<br>
                        ‚Ä¢ Mise √† jour des d√©pendances
                    </p>
                    <small style="color: #999;">25 mai 2025 - 14:32</small>
                </div>

                <div class="timeline-item">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                        <strong>v2.1.2 - Corrections de bugs</strong>
                        <span class="badge badge-success">R√©ussi</span>
                    </div>
                    <p style="color: #666; margin-bottom: 0.5rem;">
                        ‚Ä¢ Correction du bug d'authentification<br>
                        ‚Ä¢ Fix des notifications push<br>
                        ‚Ä¢ Am√©lioration de l'interface utilisateur
                    </p>
                    <small style="color: #999;">24 mai 2025 - 09:15</small>
                </div>

                <div class="timeline-item">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                        <strong>v2.1.1 - Nouvelle fonctionnalit√© API</strong>
                        <span class="badge badge-success">R√©ussi</span>
                    </div>
                    <p style="color: #666; margin-bottom: 0.5rem;">
                        ‚Ä¢ Ajout de l'endpoint /api/v2/analytics<br>
                        ‚Ä¢ Am√©lioration de la documentation Swagger<br>
                        ‚Ä¢ Tests d'int√©gration complets
                    </p>
                    <small style="color: #999;">23 mai 2025 - 16:45</small>
                </div>

                <div class="timeline-item">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                        <strong>v2.1.0 - Migration base de donn√©es</strong>
                        <span class="badge badge-success">R√©ussi</span>
                    </div>
                    <p style="color: #666; margin-bottom: 0.5rem;">
                        ‚Ä¢ Migration vers PostgreSQL 15<br>
                        ‚Ä¢ Nouveaux index pour les performances<br>
                        ‚Ä¢ Sauvegarde automatique configur√©e
                    </p>
                    <small style="color: #999;">22 mai 2025 - 11:20</small>
                </div>
            </div>
        </div>
    </section>

    <!-- Section Actions rapides -->
    <section class="section">
        <div class="container">
            <h2 style="text-align: center; margin-bottom: 3rem;">‚ö° Actions rapides</h2>

            <div class="grid">
                <div class="card">
                    <div class="card-header">üîß Gestion</div>
                    <div class="card-body" style="text-align: center;">
                        <a href="#" class="btn btn-primary">D√©clencher un d√©ploiement</a>
                        <a href="#" class="btn btn-secondary">Voir les logs</a>
                        <a href="#" class="btn btn-success">Backup manuel</a>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">üìä Rapports</div>
                    <div class="card-body" style="text-align: center;">
                        <a href="#" class="btn btn-primary">Rapport de performance</a>
                        <a href="#" class="btn btn-secondary">Analyse de s√©curit√©</a>
                        <a href="#" class="btn btn-success">Export des m√©triques</a>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">üõ†Ô∏è Outils</div>
                    <div class="card-body" style="text-align: center;">
                        <a href="#" class="btn btn-primary">Console de debug</a>
                        <a href="#" class="btn btn-secondary">Gestionnaire de cache</a>
                        <a href="#" class="btn btn-success">Documentation API</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <section class="section" style="background: #343a40; color: white;">
        <div class="container" style="text-align: center;">
            <h3 style="margin-bottom: 1rem;">üöÄ Plateforme DevOps</h3>
            <p style="margin-bottom: 2rem; opacity: 0.8;">
                Symfony 7.0 ‚Ä¢ PHP 8.3 ‚Ä¢ PostgreSQL 15 ‚Ä¢ Docker ‚Ä¢ GitHub Actions
            </p>
            <div style="margin-bottom: 1rem;">
                <span class="badge badge-success" style="margin: 0.25rem;">Haute disponibilit√©</span>
                <span class="badge badge-info" style="margin: 0.25rem;">Auto-scaling</span>
                <span class="badge badge-warning" style="margin: 0.25rem;">Monitoring 24/7</span>
            </div>
            <p style="font-size: 0.9rem; opacity: 0.6;">
                ¬© 2025 Plateforme DevOps - D√©ploy√© automatiquement avec ‚ù§Ô∏è
            </p>
        </div>
    </section>
</div>

<script>
    // Animation des barres de progression
    document.addEventListener('DOMContentLoaded', function () {
        const progressBars = document.querySelectorAll('.progress-fill');
        progressBars.forEach((bar, index) => {
            setTimeout(() => {
                bar.style.width = bar.style.width || '0%';
            }, index * 200);
        });
    });
</script>
{% endblock %}